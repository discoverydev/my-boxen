# default profile

# boxen environment
source /opt/boxen/env.sh

# genymotion
genymotion_version=`ls -l "/opt/homebrew-cask/Caskroom/genymotion" | grep "^d" | rev | cut -d " " -f 1 | rev | tail -n 1`
export genymotion_home=/opt/homebrew-cask/Caskroom/genymotion/$genymotion_version

# android home
export android_home=/opt/android-sdk
export path=$android_home/tools:$anDROID_HOME/platform-tools:$GENYMOTION_HOME/Genymotion.app/Contents/MacOS:$GENYMOTION_HOME/Genymotion\ Shell.app/Contents/MacOS:$PATH

# aliases
alias ll="ls -ltra"
alias repo="cd /opt/boxen/repo"
alias boxen="cd /opt/boxen/repo"
alias shared="cd /users/shared"
alias data="cd /users/shared/data"
alias src="cd ~/src"
alias mls="cd ~/src/mls-dev"
alias sc="cd ~/src/sc-dev"
alias ..="cd .."
alias sourcetree="open -a /applications/Sourcetree.app"
alias dm="docker-machine"
alias source-profile="source /users/ga-mlsdiscovery/.profile"
alias lip="localip"
# alias rm="trash" (ddaugher - umocmment after all machines are upgraded to xcode 7)

function docker-sh {
    if [[ -z "$1" ]]; then
        echo "usage: docker-sh <container-name>"
        echo "this executes /bin/sh. Should work on most containers, but you might not have certain bash features you're used to."
        return 1
    fi
    docker exec -it "$1" /bin/sh
}

function post-json {
    if [[ -z "$1" || -z "$2" ]]; then
        echo "usage: post-json <json string> <address>"
        return 1
    fi
    curl -i -h "content-type: application/json" -X POST -d "$1" "$2"
}

function localip {
    ifconfig | grep 192 | cut -d ' ' -f 2
} 

# git aliases
alias pull='git pull'
alias pullrecurse='find . -type d -name .git -exec sh -c "cd \"{}\"/../ && pwd && git pull" \;'
alias push='git push'
alias rh='git reset --hard'
alias ads='git checkout ads'
alias st='git status'
alias log="clear; git log -20 --graph --all --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(bold white)â€” %an%C(reset)%C(bold yellow)%d%C(reset)' --abbrev-commit --date=relative"
alias log2="clear; git log -20 --format='%Cgreen%h%Creset %C(cyan)%an%Creset - %s' --graph --date=relative --abbrev-commit"
alias br='git branch'
alias ac='git add .; git commit -a '
alias mrg='git merge --no-ff'

if [ -f $(brew --prefix)/etc/bash_completion ]; then
    . $(brew --prefix)/etc/bash_completion
fi

source ~/.git-completion.bash
source ~/.docker-completion.bash
source ~/.docker-machine-completion.bash
